---
interface Props {
	header: string;
}

const { header } = Astro.props;

// Generate unique ID
const componentId = `accordion-content-${Date.now()}`;
---

<div class="accordion"> 
	<div class="accordion__header">
		{header}
	</div>
	<div class="accordion__content" id={componentId}>
		<slot/>
	</div>
</div> <!-- .accordion -->


<script>
	const accordionList = document.querySelectorAll(".accordion");

	accordionList.forEach(accordion => {
		let accordionHeader = accordion.querySelector(".accordion__header");
		let accordionContent = accordion.querySelector(".accordion__content");

		accordionHeader.addEventListener("click", () => {
			accordionContent.classList.toggle("show");
			accordionHeader.classList.toggle("active");
		});
	});

</script>