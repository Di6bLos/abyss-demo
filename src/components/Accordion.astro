---
interface Props {
	header: string;
}

const { header } = Astro.props;

// Generate unique ID
const componentId = `accordion-content-${Date.now()}`;
---

<div class="accordion"> 

	<div class="accordion__header">
            
		<button 
		class="accordion__button" 
		aria-expanded="false" 
		aria-controls={componentId} 
		aria-label="Toggle Accordion Content"
		> 
			<h3 class="accordion__title">
				{header}
			</h3>

			<div class="accordion__button-icon">
				<span></span>
				<span></span>
			</div>
		</button>
		
	</div>

	<div class="accordion__content" id={componentId}>
		<div class="accordion__content-inner">
			<slot/>
		</div>
	</div>

</div> <!-- .accordion -->


<script>
	const accordions = document.querySelectorAll('.accordion');

	accordions.forEach((accordion) => {
		const accBtn = accordion.querySelector('.accordion__button');

		accBtn.addEventListener('click', function () {
			accordion.classList.toggle('active');
		});
	});

</script>